{% extends "bootstrap/base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block title %}
Members
{% endblock %}

{% block styles %}
    <link href="/static/bootstrap1.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/bootstrap.css">
    <link rel="stylesheet" href="/static/jquery.dataTables.min.css">
    <link rel="stylesheet" href="/static/mainstyle.css">
    <link rel="shortcut icon" href="{{ url_for('static', filename='buddy.ico') }}" type="image/x-icon">
{% endblock %}

{% block metas %}
   <meta charset='utf-8'>
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1">
{% endblock %}

{% block scripts %}
<script>
        $(document).ready(function() {
            table = $('#example').DataTable();
            $('#example tbody').on('click', 'tr', function () {
        var data = table.row( this ).data();
        // alert( 'You clicked on '+data[0]+'\'s row' );
         window.location.href ='members/'+data[0]
        // redirect to profile
    } );


        } );
    </script>
    <script src="/static/jquery-1.12.4.js" type="text/javascript"></script>
    <script src="/static/jquery.dataTables.min.js" type="text/javascript"></script>
{#    <script src="/static/dataTables.bootstrap4.min.js" type="text/javascript"></script>#}
    <script>
        $(document).ready(function() {
            $('#example').DataTable();
        } );
    </script>
{% endblock %}

{% block content %}
{% include "adminbar.html" %}
<ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="/adminhomepage">Home</a></li>
    <li class="breadcrumb-item">Members</li>
</ol>


<div id="tables" style="margin-top: 4%">
    <p>Total Capital: {{"{:,}".format(total)}}</p>
<h1 style="font-family: sans-serif">Members</h1>
    <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th>First Name</th>
                <th>Middle Name</th>
                <th>Last Name</th>
                <th>Gender</th>
                <th>Birthday</th>
                <th>Capital</th>
            </tr>
        </thead>
        <tbody>
        {% for member in members %}
            <tr>
                <td>{{ member.firstname }}</td>
                <td>{{ member.middlename }}</td>
                <td>{{ member.lastname }}</td>
                <td>{{ member.gender }}</td>
                <td>{{ member.birthday }}</td>
                <td>{{ member.capital }}</td>

            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>


{% endblock %}